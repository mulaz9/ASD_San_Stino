{"mappings":"AAAA,aAGA,MAAMA,KAAOC,SAASC,cAAc,SAE9BC,QAAUC,iBACd,MAAMC,QAAiBC,MACrB,GAAGC,uEAGCC,SADiBH,EAASI,QACVD,KAEhBE,EAAiB,SAAUC,EAAGC,GAClC,MAAgB,6BAA6BA,iDAS7CL,aAAAC,EAAAG,GAAAE,WAAAC,KAAAN,KAAAK,WAAAE,sEAEoBP,EAAAG,GAAAE,WAAAL,qFAEIA,EAAAG,GAAAE,WAAmBG,6CAM/C,EACA,IAAM,MAASC,KAAQT,EAACU,UAAc,CAEhC,IAAAN,EAASK,EAAG,GAAAL,GAChBO,EAAAT,EAAoBO,EAAA,GAAAL,GACpBZ,KAAMoB,mBAAsB,YACvBD,EAEL,C,kBAIAE,OAAMpB,SAAcC,cAAc,W,UACzBE,iBAYT,MAAKC,QAAkBC,MAAC,GAAOC,yEAE7BC,SADaH,EAAeI,QACrBD,K,QACRc,IAAAd,G,mCAGSG,E,4YAAA,IAAAA,C","sources":["news_page.js"],"sourcesContent":["\"use strict\";\r\n\r\n// Rendering News\r\nconst news = document.querySelector(\".news\");\r\n\r\nconst getNews = async function () {\r\n  const response = await fetch(\r\n    `${STRAPI_URL}/api/news-sections?sort[0]=publishedAt:desc&populate=foto`\r\n  );\r\n  const newsJson = await response.json();\r\n  const data = newsJson.data;\r\n  // console.log([...data.entries()]);\r\n  const generateMarkup = function (i, id) {\r\n    return /*html*/ `<a href=\"./single.html?id=${id}\"><div class=\"news--content\">\r\n    <img src=\"${STRAPI_URL}${data[i].attributes.foto.data.attributes.url}\" />\r\n    <div class=\"news--text\">\r\n      <p class=\"news--date\">${data[i].attributes.data}<span class=\"blue--line\">--</span>\r\n      </p>\r\n      <h3 class=\"news--title\">${data[i].attributes.titolo}</h3>\r\n    </div>\r\n  </div></a>\r\n    `;\r\n  };\r\n  for (const item of data.entries()) {\r\n    let id = item[1].id;\r\n    let markup = generateMarkup(item[0], id);\r\n    news.insertAdjacentHTML(\"beforeend\", markup);\r\n  }\r\n};\r\n\r\ngetNews();\r\n\r\n// Rendering Videos\r\nconst videos = document.querySelector(\".videos\");\r\n\r\nconst getVideos = async function () {\r\n  // Ottenere dati API\r\n  const response = await fetch(\r\n    `${STRAPI_URL}/api/video-sections?sort[0]=publishedAt:desc&populate=video`\r\n  );\r\n  const newsJson = await response.json();\r\n  const data = newsJson.data;\r\n  console.log(data);\r\n  // Creare html\r\n  const generateMarkup = function (i) {\r\n    return /*html*/ `\r\n  <div class=\"video--content\">\r\n    <video controls>\r\n      <source src=\"${STRAPI_URL}${data[i].attributes.video.data.attributes.url}\" type=\"video/mp4\" />\r\n    </video>\r\n    <p class=\"video--date\">\r\n    ${data[i].attributes.data}<span class=\"blue--line\">--</span>\r\n    </p>\r\n    <h3 class=\"video--title\">${data[i].attributes.titolo}</h3>\r\n  </div>\r\n    `;\r\n  };\r\n  for (const item of data.entries()) {\r\n    let markup = generateMarkup(item[0]);\r\n    videos.insertAdjacentHTML(\"beforeend\", markup);\r\n  }\r\n};\r\n\r\ngetVideos();\r\n"],"names":["news","document","querySelector","getNews","async","response","fetch","STRAPI_URL","data","json","generateMarkup","i","id","attributes","foto","url","titolo","item","entries","markup","insertAdjacentHTML","videos","log"],"version":3,"file":"news.2eda9541.js.map"}