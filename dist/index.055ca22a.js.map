{"mappings":"AAAA,aAGA,MAAMA,OAASC,SAASC,cAAc,aAChCC,OAAS,WACb,MAAMC,EAASH,SAASI,iBAAiB,UACnCC,EAAeL,SAASC,cAAc,SAE5C,IAAIK,EAAW,EACf,MAAMC,EAAWJ,EAAOK,OAYlBC,EAAc,SAAUC,GAC5BV,SACGI,iBAAiB,cACjBO,SAASC,GAAQA,EAAIC,UAAUC,OAAO,uBACzCd,SACGC,cAAc,0BAA0BS,OACxCG,UAAUE,IAAI,oB,EAGbC,EAAY,SAAUN,GAC1BP,EAAOQ,SAAQ,CAACM,EAAGC,KACjBD,EAAEE,MAAMC,UAAY,cAAc,KAAOF,EAAIR,OAC7CO,EAAEE,MAAME,WAAa,QAAQ,G,EAK3BC,EAAY,WACZhB,IAAaC,EAAW,EAC1BD,EAAW,EACNA,IACPP,OAAOc,UAAUC,OAAO,UACxBE,EAAUV,GACVG,EAAYH,E,EAcZU,EAAU,GA7CVb,EAAOQ,SAAQ,SAAUY,EAAGL,GAC1Bb,EAAamB,mBACX,YACA,yCAAyCN,e,IA4C7CT,EAAY,GAKdT,SAASyB,iBAAiB,WAAW,SAAUC,GAC/B,cAAVA,EAAEC,MAjBW,IAAbrB,EACFA,EAAWC,EAAW,EACjBD,IACPP,OAAOc,UAAUC,OAAO,UACxBE,EAAUV,GACVG,EAAYH,IAaF,eAAVoB,EAAEC,KAAwBL,G,IAIbtB,SAASC,cAAc,WAC/BwB,iBAAiB,aAAa,WACnCH,G,IAIFjB,EAAaoB,iBAAiB,SAAS,SAAUC,GAC/C,GAAIA,EAAEE,OAAOf,UAAUgB,SAAS,aAAc,CAC5C,MAAMnB,MAAEA,GAAUgB,EAAEE,OAAOE,QAC3B/B,OAAOc,UAAUC,OAAO,UACxBE,EAAUN,GACVD,EAAYC,E,MAIlBR,SAGA,MAAM6B,KAAO/B,SAASC,cAAc,SAE9B+B,QAAUC,iBACd,MAAMC,QAAiBC,MACrB,GAAGC,2FAGCC,SADiBH,EAASI,QACVD,KAEhBE,EAAiB,SAAUrB,EAAGsB,GAClC,MAAgB,kCAAkCA,iDASlDJ,aAAAC,EAAAnB,GAAAuB,WAAAC,KAAAL,KAAAI,WAAAE,sEAEoBN,EAAAnB,GAAAuB,WAAAJ,qFAEIA,EAAAnB,GAAAuB,WAAmBG,6CAM/C,EACA,IAAM,MAASC,KAAQR,EAACS,UAAc,CAEhC,IAAAN,EAASK,EAAG,GAAAL,GAChBO,EAAAR,EAAoBM,EAAA,GAAAL,GACpBT,KAAMP,mBAAsB,YACvBuB,EAEL,C,kBAIAC,OAAMhD,SAAcC,cAAc,W,UACzBgC,iBAYT,MAAKC,QAAkBC,MAAC,GAAOC,6FAE7BC,SADaH,EAAeI,QACrBD,K,QACRY,IAAAZ,G,mCAGSnB,E,0WAAA,IAAAA,C","sources":["main.js"],"sourcesContent":["\"use strict\";\r\n\r\n// Slider\r\nconst slide2 = document.querySelector(\".slide--2\");\r\nconst slider = function () {\r\n  const slides = document.querySelectorAll(\".slide\");\r\n  const dotContainer = document.querySelector(\".dots\");\r\n\r\n  let curSlide = 0;\r\n  const maxSlide = slides.length;\r\n\r\n  // Functions\r\n  const createDots = function () {\r\n    slides.forEach(function (_, i) {\r\n      dotContainer.insertAdjacentHTML(\r\n        \"beforeend\",\r\n        `<button class=\"dots__dot\" data-slide=\"${i}\"></button>`\r\n      );\r\n    });\r\n  };\r\n\r\n  const activateDot = function (slide) {\r\n    document\r\n      .querySelectorAll(\".dots__dot\")\r\n      .forEach((dot) => dot.classList.remove(\"dots__dot--active\"));\r\n    document\r\n      .querySelector(`.dots__dot[data-slide=\"${slide}\"]`)\r\n      .classList.add(\"dots__dot--active\");\r\n  };\r\n\r\n  const goToSlide = function (slide) {\r\n    slides.forEach((s, i) => {\r\n      s.style.transform = `translateX(${100 * (i - slide)}%)`;\r\n      s.style.transition = \"all 1s\";\r\n    });\r\n  };\r\n\r\n  // Next slide\r\n  const nextSlide = function () {\r\n    if (curSlide === maxSlide - 1) {\r\n      curSlide = 0;\r\n    } else curSlide++;\r\n    slide2.classList.remove(\"hidden\");\r\n    goToSlide(curSlide);\r\n    activateDot(curSlide);\r\n  };\r\n\r\n  // Prev slide\r\n  const prevSlide = function () {\r\n    if (curSlide === 0) {\r\n      curSlide = maxSlide - 1;\r\n    } else curSlide--;\r\n    slide2.classList.remove(\"hidden\");\r\n    goToSlide(curSlide);\r\n    activateDot(curSlide);\r\n  };\r\n\r\n  const init = function () {\r\n    goToSlide(0);\r\n    createDots();\r\n    activateDot(0);\r\n  };\r\n  init();\r\n\r\n  // Event Handler\r\n  document.addEventListener(\"keydown\", function (e) {\r\n    if (e.key === \"ArrowLeft\") prevSlide();\r\n    e.key === \"ArrowRight\" && nextSlide();\r\n  });\r\n\r\n  // Mobile touch\r\n  const slider = document.querySelector(\".slider\");\r\n  slider.addEventListener(\"touchmove\", function () {\r\n    nextSlide();\r\n  });\r\n\r\n  // Dot Handler\r\n  dotContainer.addEventListener(\"click\", function (e) {\r\n    if (e.target.classList.contains(\"dots__dot\")) {\r\n      const { slide } = e.target.dataset;\r\n      slide2.classList.remove(\"hidden\");\r\n      goToSlide(slide);\r\n      activateDot(slide);\r\n    }\r\n  });\r\n};\r\nslider();\r\n\r\n// Rendering News\r\nconst news = document.querySelector(\"#news\");\r\n\r\nconst getNews = async function () {\r\n  const response = await fetch(\r\n    `${STRAPI_URL}/api/news-sections?sort[0]=publishedAt:desc&pagination[limit]=3&populate=foto`\r\n  );\r\n  const newsJson = await response.json();\r\n  const data = newsJson.data;\r\n  // console.log([...data.entries()]);\r\n  const generateMarkup = function (i, id) {\r\n    return /*html*/ `<a href=\"./single_news.html?id=${id}\"><div class=\"news--content\">\r\n    <img src=\"${STRAPI_URL}${data[i].attributes.foto.data.attributes.url}\" />\r\n    <div class=\"news--text\">\r\n      <p class=\"news--date\">${data[i].attributes.data}<span class=\"blue--line\">--</span>\r\n      </p>\r\n      <h3 class=\"news--title\">${data[i].attributes.titolo}</h3>\r\n    </div>\r\n  </div></a>\r\n    `;\r\n  };\r\n  for (const item of data.entries()) {\r\n    let id = item[1].id;\r\n    let markup = generateMarkup(item[0], id);\r\n    news.insertAdjacentHTML(\"beforeend\", markup);\r\n  }\r\n};\r\n\r\ngetNews();\r\n\r\n// Rendering Videos\r\nconst videos = document.querySelector(\"#videos\");\r\n\r\nconst getVideos = async function () {\r\n  // Ottenere dati API\r\n  const response = await fetch(\r\n    `${STRAPI_URL}/api/video-sections?sort[0]=publishedAt:desc&pagination[limit]=3&populate=video`\r\n  );\r\n  const newsJson = await response.json();\r\n  const data = newsJson.data;\r\n  console.log(data);\r\n  // Creare html\r\n  const generateMarkup = function (i) {\r\n    return /*html*/ `\r\n  <div class=\"video--content\">\r\n    <video controls>\r\n      <source src=\"${STRAPI_URL}${data[i].attributes.video.data.attributes.url}\" type=\"video/mp4\" />\r\n    </video>\r\n    <p class=\"video--date\">\r\n    ${data[i].attributes.data}\r\n    </p>\r\n    <h3 class=\"video--title\">${data[i].attributes.titolo}</h3>\r\n  </div>\r\n    `;\r\n  };\r\n  for (const item of data.entries()) {\r\n    let markup = generateMarkup(item[0]);\r\n    videos.insertAdjacentHTML(\"beforeend\", markup);\r\n  }\r\n};\r\n\r\ngetVideos();\r\n"],"names":["slide2","document","querySelector","slider","slides","querySelectorAll","dotContainer","curSlide","maxSlide","length","activateDot","slide","forEach","dot","classList","remove","add","goToSlide","s","i","style","transform","transition","nextSlide","_","insertAdjacentHTML","addEventListener","e","key","target","contains","dataset","news","getNews","async","response","fetch","STRAPI_URL","data","json","generateMarkup","id","attributes","foto","url","titolo","item","entries","markup","videos","log"],"version":3,"file":"index.055ca22a.js.map"}